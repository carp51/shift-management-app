import{a as d,C as g,i as p}from"./index-44b8d3bd.js";import{i as f}from"./index-1dfa74ef.js";var h=document.getElementById("shift_planning_calendar"),c=new Date,u=new Date(c);u.setMonth(c.getMonth()+1);var e=0;const _=document.getElementById("plus-btn"),k=document.getElementById("bulk-modal-plus-btn");_.addEventListener("click",function(){e=parseInt(document.getElementById("counter-input").value,10)+1,document.getElementById("counter-input").value=e,console.log(e,"p")});k.addEventListener("click",function(){e=parseInt(document.getElementById("bulk-modal-counter-input").value,10)+1,document.getElementById("bulk-modal-counter-input").value=e,console.log(e,"p")});const y=document.getElementById("minus-btn"),E=document.getElementById("bulk-modal-minus-btn");y.addEventListener("click",function(){e-1>=0&&(e=parseInt(document.getElementById("counter-input").value,10)-1,document.getElementById("counter-input").value=e),console.log(e,"m")});E.addEventListener("click",function(){e-1>=0&&(e=parseInt(document.getElementById("bulk-modal-counter-input").value,10)-1,document.getElementById("bulk-modal-counter-input").value=e),console.log(e,"m")});var s,i,r,m,v;document.getElementById("counter-confirm").addEventListener("click",function(t){console.log(t),d.post("shift-planning/shift-planning-edit",{start_date:i,end_date:r,title:s,need_number:e}).then(n=>{console.log(n),document.location.reload()}).catch(()=>{alert("変更に失敗しました")})});document.getElementById("bulkSelectDecision").addEventListener("click",function(){var t=document.getElementsByClassName("day-of-week-checks"),n=[];for(let a=0;a<7;a++)t[a].checked===!0&&n.push(t[a].value);var o=document.getElementsByName("shift-checks"),l="";for(let a=0;a<2;a++)o[a].checked===!0&&(l=o[a].value);if(console.log(n),console.log(l),!(n.length!=0&&l!="")){alert("曜日とシフトを選択してください");return}d.post("shift-planning/shift-planning-bulk-edit",{display_start_date:m,display_end_date:v,shift_checked:l,day_of_week_checked_list:n,need_number:e}).then(a=>{console.log(a),document.location.reload()}).catch(()=>{alert("変更に失敗しました")})});let B=new g(h,{plugins:[f,p],initialView:"dayGridMonth",initialDate:u,headerToolbar:{left:"",center:"title",right:""},locale:"ja",events:function(t,n,o){m=t.start.valueOf(),v=t.end.valueOf(),d.post("shift-planning/shift-planning-add",{start_date:t.start.valueOf(),end_date:t.end.valueOf()}).then(l=>{}).catch(l=>{alert("登録に失敗しました")}),d.post("shift-planning/shift-planning-get",{start_date:t.start.valueOf(),end_date:t.end.valueOf()}).then(l=>{n(l.data)}).catch(l=>{alert("取得に失敗しました")})},eventClick:function(t){i=t.event._instance.range.start.valueOf(),r=t.event._instance.range.end.valueOf(),s=t.event._def.title;var n=t.event._def.title;e=parseInt(n.substr(n.indexOf("_")+1),10),document.getElementById("counter-input").value=e,$("#counter-modal").modal("show").off("click",".btn-secondary")}});B.render();
